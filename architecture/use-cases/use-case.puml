@startuml use-case-diagram
left to right direction
 
legend center
  |<color:green><size:24>●</size></color> | <size:20>**Tâches cruciales** </size>|
  |<color:LightBlue><size:24>●</size></color> | <size:20>**Tâches importantes** </size>|
  |<color:gold><size:24>●</size></color> | <size:20>**Tâches agréables** </size>|
  |<color:red><size:24>●</size></color> | <size:20>**Tâches non prioritaires** </size>|
end legend

title Diagramme des Cas d'utilisation

actor "Utilisateur Non Connecté" as Guest
actor "Utilisateur Connecté" as User  
actor "Administrateur" as Admin
actor "Système de Notification" as Notif

User --|> Guest
Admin --|> User

rectangle "SmartRoom" {
    package "Gestion Administrateur" as AdminPackage {
        package "Gestion bâtiments" as BuildingPackage {
            (Afficher bâtiments) as UC20 #green
            (Créer bâtiment) as UC28 #LightBlue
            (Modifier bâtiment) as UC29 #gold
            (Supprimer bâtiment) as UC30 #red
        }
        package "Gestion salles " as RoomPackage {
            (Afficher salles) as UC27 #green
            (Ajouter salle) as UC23 #green
            (Modifier salle) as UC24 #green
            (Supprimer salle) as UC25 #green
            (Activer / Désactiver salle) as UC26 #green
        }
        package "Gestion des équipements" as EquipmentPackage {
            (Afficher équipements) as UC22 #green
            (Ajouter équipement) as UC34 #green
            (Modifier équipement) as UC35 #green
            (Supprimer équipement) as UC36 #green
        }
        package "Gestion utilisateurs" as UserPackage {
            (Afficher utilisateurs) as UC37 #green
            (Créer utilisateur) as UC5 #gold
            (Modifier profil utilisateur) as UC6 #gold
            (Supprimer utilisateur) as UC7 #LightBlue
        }
        package "Gestion des tickets" as TicketPackage {
            (Afficher demandes) as UC9 #green
            (Consulter demandes) as UC14 #lightBlue
            (Clôturer une demande) as UC16 #gold
            (Notifier l'utilisateur) as UC17 #LightBlue
        }
        package "Reporting & Statistiques" as ReportingPackage {
            (Consulter rapports & statistiques) as UC10 #green
        }
        package "Gestion des paramètres" as SettingsPackage {
            (Modifier paramètres ) as UC8 #green
        }
        
    }
    package "Gestion des réservations" as ReservationPackage {
        (Rechercher salles) as UC2 #LightBlue
        (Réserver salle) as UC3 #green
        (Modifier / Annuler mes réservations) as UC4 #green
        (Moddifer / Annuler réservation) as UC40 #green
        (Consulter mes réservations) as UC11 #LightBlue
        (Créer une demande / ticket) as UC12 #gold
        (Afficher mes demandes) as UC13 #red
        (Salle favorite) as UC21 #red
    }
    
    package "Gestion utilisateurs non connectés" as GuestPackage {
        (Consulter disponibilités) as UC18 #green
        (Rechercher salles) as UC19 #gold
    }
    package "Notifications & Reporting" as NotificationPackage {
        (Envoyer confirmation) as UC31 #green
        (Envoyer rappel) as UC32 #gold
    }

    User --> ReservationPackage
    Admin --> AdminPackage
    Admin --> ReservationPackage
    Guest --> GuestPackage
    Notif --> NotificationPackage
    UC3 .-> UC31 : <<include>>
    UC4 .-> UC31 : <<include>>
    Admin --> UC40
}


@enduml